export default class Colors{static{Colors.colorCache={},Colors.element=void 0}static setElement(e){Colors.element=e}static calculateColor(t,r,o){var l=Object.keys(r).map(e=>Number(e)).sort((e,t)=>e-t);let a,s,n;var c=l.length;if(t<=l[0])return r[l[0]];if(t>=l[c-1])return r[l[c-1]];for(let e=0;e<c-1;e++){var i=l[e],u=l[e+1];if(i<=t&&t<u){if([a,s]=[r[i],r[u]],!o)return a;n=Colors.calculateValueBetween(i,u,t);break}}return Colors.getGradientValue(a,s,n)}static calculateColor2(t,r,o,l,a){var s=Object.keys(r).map(e=>Number(e)).sort((e,t)=>e-t);let n,c,i;var u=s.length;if(t<=s[0])return r[s[0]];if(t>=s[u-1])return r[s[u-1]];for(let e=0;e<u-1;e++){var C=s[e],f=s[e+1];if(C<=t&&t<f){if([n,c]=[r[C].styles[o][l],r[f].styles[o][l]],!a)return n;i=Colors.calculateValueBetween(C,f,t);break}}return Colors.getGradientValue(n,c,i)}static calculateValueBetween(e,t,r){return(Math.min(Math.max(r,e),t)-e)/(t-e)}static getColorVariable(e){e=e.substr(4,e.length-5);return window.getComputedStyle(Colors.element).getPropertyValue(e)}static getGradientValue(e,t,r){var e=Colors.colorToRGBA(e),t=Colors.colorToRGBA(t),o=1-r,l=Math.floor(e[0]*o+t[0]*r),a=Math.floor(e[1]*o+t[1]*r),s=Math.floor(e[2]*o+t[2]*r),e=Math.floor(e[3]*o+t[3]*r);return"#"+Colors.padZero(l.toString(16))+Colors.padZero(a.toString(16))+Colors.padZero(s.toString(16))+Colors.padZero(e.toString(16))}static padZero(e){return(e=e.length<2?"0"+e:e).substr(0,2)}static colorToRGBA(e){var t=Colors.colorCache[e];if(t)return t;let r=e;"var"===e.substr(0,3).valueOf()&&(r=Colors.getColorVariable(e));t=window.document.createElement("canvas"),t.width=t.height=1,t=t.getContext("2d"),t.clearRect(0,0,1,1),t.fillStyle=r,t.fillRect(0,0,1,1),t=[...t.getImageData(0,0,1,1).data];return Colors.colorCache[e]=t}}